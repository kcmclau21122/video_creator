# ============================================================================
# AI Video Creator - Configuration File
# ============================================================================
# This file contains all configurable settings for the video creation pipeline.
# Settings are organized by processing step for clarity.
# ============================================================================

# ============================================================================
# SECTION 1: PROJECT PATHS
# ============================================================================
[Paths]
# Input folder containing your photos and videos
# Default: input
input_directory = input

# Output folder for generated files (manifest, analysis, final video)
# Default: output
output_directory = output

# Cache folder for storing processed metadata and model outputs
# Default: cache
# Setting to empty disables caching (slower but uses less disk space)
cache_directory = cache

# Models folder for storing downloaded AI models
# Default: models
# WARNING: AI models are large (5-15 GB each)
models_directory = models


# ============================================================================
# SECTION 2: HARDWARE & PERFORMANCE
# ============================================================================
[Hardware]
# Processing device for AI models
# Options: cuda, cpu, mps (for Apple Silicon)
# Default: cuda
# - cuda: Use NVIDIA GPU (fastest, requires CUDA-compatible GPU)
# - cpu: Use CPU only (slowest, works on any machine)
# - mps: Use Apple Metal Performance Shaders (for M1/M2 Macs)
device = cuda

# Available GPU memory in GB
# Default: 16
# Used to select appropriate model sizes and batch sizes
# Examples: 4, 6, 8, 12, 16, 24
vram_gb = 16

# Use 16-bit floating point precision (saves memory, slight quality loss)
# Options: true, false
# Default: true
# - true: Faster processing, uses ~50% less VRAM (recommended for GPUs with <16GB)
# - false: Better quality, uses more VRAM
use_fp16 = true

# Number of CPU cores to use for video rendering
# Default: 4
# Options: 1, 2, 4, 6, 8, 12, 16 (or -1 for all available cores)
# More cores = faster rendering but higher CPU usage
num_cores = 4


# ============================================================================
# SECTION 3: MEDIA INGESTION SETTINGS
# ============================================================================
[MediaIngestion]
# Enable caching of extracted metadata
# Options: true, false
# Default: true
# - true: Cache EXIF data to speed up repeated runs
# - false: Always extract fresh metadata (slower)
enable_metadata_cache = true

# Supported image formats (comma-separated, with dots)
# Default: .jpg,.jpeg,.png,.bmp,.tiff,.tif,.heic,.heif
# Remove formats you don't want to process
supported_image_formats = .jpg,.jpeg,.png,.bmp,.tiff,.tif,.heic,.heif

# Supported video formats (comma-separated, with dots)
# Default: .mp4,.mov,.avi,.mkv,.wmv,.flv,.webm,.m4v
# Remove formats you don't want to process
supported_video_formats = .mp4,.mov,.avi,.mkv,.wmv,.flv,.webm,.m4v

# Maximum image dimensions for processing (width, height)
# Default: 1920, 1080
# Options: 
# - 1280, 720 (HD, faster processing)
# - 1920, 1080 (Full HD, balanced)
# - 2560, 1440 (2K, slower but better quality)
# - 3840, 2160 (4K, very slow)
max_image_width = 1920
max_image_height = 1080


# ============================================================================
# SECTION 4: SCENE ANALYSIS WITH AI
# ============================================================================
[SceneAnalysis]
# Vision model to use for scene analysis
# Options: blip2-opt-2.7b, blip2-opt-6.7b, blip2-flan-t5-xl
# Default: blip2-flan-t5-xl
# 
# blip2-opt-2.7b:
#   - Size: ~5.4 GB
#   - VRAM: 6-8 GB
#   - Quality: Good, fast captions
#   - Best for: Quick processing, limited hardware
#
# blip2-opt-6.7b:
#   - Size: ~13 GB
#   - VRAM: 12-14 GB
#   - Quality: Better, more detailed
#   - Best for: Balanced quality/speed
#
# blip2-flan-t5-xl:
#   - Size: ~10 GB
#   - VRAM: 10-12 GB
#   - Quality: Best, most detailed descriptions
#   - Best for: Highest quality output (RECOMMENDED)
vision_model = blip2-flan-t5-xl

# Enable caching of scene analysis results
# Options: true, false
# Default: true
# - true: Cache analysis to avoid re-processing (recommended)
# - false: Always analyze fresh (much slower)
enable_scene_cache = true

# Sample rate for analyzing video frames (frames per second)
# Default: 1.0
# Options: 0.5, 1.0, 2.0, 5.0
# - 0.5: Analyze every 2 seconds (faster, less detail)
# - 1.0: Analyze every second (balanced)
# - 2.0: Analyze twice per second (more detail, slower)
# - 5.0: Analyze 5 times per second (very detailed, very slow)
video_sample_fps = 1.0

# Maximum number of video frames to analyze per video
# Default: 20
# Options: 5, 10, 20, 50, 100
# Limits processing time for long videos
max_video_keyframes = 20


# ============================================================================
# SECTION 5: CONTENT SEQUENCING
# ============================================================================
[Sequencing]
# Sort media chronologically by capture date
# Options: true, false
# Default: true
# - true: Sort by EXIF date (creates timeline)
# - false: Use original file order
sort_chronologically = true

# Default duration for images (seconds)
# Default: 4.0
# Options: 2.0, 3.0, 4.0, 5.0, 6.0, 8.0
# How long each photo appears on screen
default_image_duration = 4.0

# Minimum image duration (seconds)
# Default: 2.0
# Options: 1.0, 1.5, 2.0, 2.5, 3.0
# Shortest time an image can be shown
min_image_duration = 2.0

# Maximum image duration (seconds)
# Default: 8.0
# Options: 5.0, 6.0, 8.0, 10.0, 12.0
# Longest time an image can be shown
max_image_duration = 8.0

# Default transition duration (seconds)
# Default: 1.0
# Options: 0.5, 0.8, 1.0, 1.5, 2.0
# How long transitions between clips take
default_transition_duration = 1.0

# Scene similarity threshold for grouping (0.0 to 1.0)
# Default: 0.3
# Options: 0.1, 0.2, 0.3, 0.4, 0.5
# - Lower value: More scene groups (more variety in transitions)
# - Higher value: Fewer scene groups (smoother flow between similar scenes)
scene_grouping_threshold = 0.3

# Apply Ken Burns effect to images (slow zoom/pan)
# Options: true, false
# Default: true
# - true: Adds subtle motion to static images (more engaging)
# - false: Images remain static (simpler, faster rendering)
enable_ken_burns = true

# Ken Burns zoom range (1.0 = no zoom, 1.2 = 20% zoom)
# Default: 1.15
# Options: 1.05, 1.10, 1.15, 1.20, 1.25
# How much to zoom during Ken Burns effect
ken_burns_zoom_factor = 1.15


# ============================================================================
# SECTION 6: AUDIO GENERATION
# ============================================================================
[AudioGeneration]
# Music generation model
# Options: musicgen-small, musicgen-medium, musicgen-large
# Default: musicgen-medium
#
# musicgen-small:
#   - Size: ~300M parameters
#   - VRAM: 4-6 GB
#   - Quality: Good
#   - Speed: Fast (~30 seconds for 1 minute of audio)
#   - Best for: Quick generation, limited hardware
#
# musicgen-medium:
#   - Size: ~1.5B parameters
#   - VRAM: 8-10 GB
#   - Quality: Better
#   - Speed: Medium (~60 seconds for 1 minute of audio)
#   - Best for: Balanced quality/speed (RECOMMENDED)
#
# musicgen-large:
#   - Size: ~3.3B parameters
#   - VRAM: 14-16 GB
#   - Quality: Best
#   - Speed: Slow (~2 minutes for 1 minute of audio)
#   - Best for: Highest quality output
music_model = musicgen-medium

# Enable audio generation
# Options: true, false
# Default: true
# - true: Generate AI soundtrack
# - false: Create silent video (faster, you can add music later)
enable_audio = true

# Audio sample rate (Hz)
# Default: 44100
# Options: 22050, 32000, 44100, 48000
# - 22050: Lower quality, smaller files
# - 32000: Good quality, balanced
# - 44100: CD quality (standard, recommended)
# - 48000: Professional quality, larger files
audio_sample_rate = 44100

# Audio channels
# Options: 1, 2
# Default: 2
# - 1: Mono (smaller file size)
# - 2: Stereo (better sound quality)
audio_channels = 2

# Audio bitrate (kbps)
# Default: 192k
# Options: 128k, 192k, 256k, 320k
# - 128k: Good quality, smaller files
# - 192k: High quality (recommended)
# - 256k: Very high quality
# - 320k: Maximum quality, largest files
audio_bitrate = 192k

# Music generation guidance scale (creativity vs. prompt adherence)
# Default: 3.0
# Options: 1.0, 2.0, 3.0, 4.0, 5.0
# - 1.0-2.0: More creative, less prompt adherence
# - 3.0: Balanced (recommended)
# - 4.0-5.0: Strict prompt adherence, less creative
music_guidance_scale = 3.0

# Default music mood for family videos
# Options: happy, peaceful, energetic, upbeat, calm, cheerful, dramatic
# Default: happy
# Used when scene analysis doesn't provide clear mood
default_music_mood = happy

# Music style descriptor
# Options: acoustic, electronic, orchestral, ambient, cinematic, folk, jazz
# Default: acoustic
# Musical style for generated soundtrack
music_style = acoustic


# ============================================================================
# SECTION 7: VIDEO COMPOSITION & OUTPUT
# ============================================================================
[VideoOutput]
# Output video resolution (width, height)
# Default: 1920, 1080
# Options:
# - 1280, 720 (HD 720p - YouTube minimum, smallest file)
# - 1920, 1080 (Full HD 1080p - YouTube standard, RECOMMENDED)
# - 2560, 1440 (2K 1440p - YouTube high quality)
# - 3840, 2160 (4K 2160p - YouTube maximum, very large files)
output_width = 1920
output_height = 1080

# Output video frames per second
# Default: 30
# Options: 24, 25, 30, 60
# - 24: Cinematic feel
# - 25: PAL standard (Europe)
# - 30: NTSC standard (US, recommended for YouTube)
# - 60: Smooth motion (larger files, not needed for photos)
output_fps = 30

# Output video bitrate
# Default: 8000k
# Options: 4000k, 6000k, 8000k, 10000k, 15000k, 20000k
# - 4000k: Lower quality, smaller files (~30 MB/minute)
# - 6000k: Good quality, balanced (~45 MB/minute)
# - 8000k: High quality, YouTube recommended for 1080p (~60 MB/minute)
# - 10000k: Very high quality (~75 MB/minute)
# - 15000k-20000k: Maximum quality for 2K/4K (~100-150 MB/minute)
output_bitrate = 8000k

# Video codec
# Options: libx264, libx265
# Default: libx264
# - libx264: H.264 codec, best compatibility, YouTube standard
# - libx265: H.265/HEVC codec, better compression, may not play everywhere
video_codec = libx264

# Video encoding preset (quality vs. speed tradeoff)
# Options: ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow
# Default: medium
# - ultrafast to veryfast: Fast encoding, lower quality/efficiency
# - fast to medium: Balanced (medium recommended)
# - slow to veryslow: Slow encoding, best quality/efficiency
# For final output, use 'slow' or 'slower'. For testing, use 'fast' or 'medium'.
encoding_preset = medium

# Maintain aspect ratio with letterboxing
# Options: true, false
# Default: true
# - true: Add black bars to maintain original aspect ratios (no distortion)
# - false: Stretch to fill frame (may distort images)
maintain_aspect_ratio = true

# Apply fade in/out to entire video
# Options: true, false
# Default: true
# - true: Smooth fade in at start, fade out at end
# - false: Abrupt start and end
apply_video_fades = true

# Fade duration (seconds)
# Default: 1.0
# Options: 0.5, 1.0, 1.5, 2.0
# Duration of fade in/out effects
fade_duration = 1.0


# ============================================================================
# SECTION 8: ADVANCED SETTINGS
# ============================================================================
[Advanced]
# Enable verbose logging
# Options: true, false
# Default: false
# - true: Show detailed progress and debug information
# - false: Show only important messages (cleaner output)
verbose_logging = false

# Maximum items to process (0 = unlimited)
# Default: 0
# Options: 0, 10, 50, 100, 500
# Useful for testing with a subset of media
# 0 means process all files
max_items_to_process = 0

# Export intermediate JSON files
# Options: true, false
# Default: true
# - true: Save manifest, analysis, sequence as JSON (useful for debugging)
# - false: Only save final video (saves disk space)
export_intermediate_files = true

# Clean up temporary files after completion
# Options: true, false
# Default: false
# - true: Delete cache and intermediate files (saves disk space)
# - false: Keep all files (useful for re-running with different settings)
cleanup_temp_files = false

# Parallel processing for scene analysis
# Options: true, false
# Default: false
# - true: Process multiple images simultaneously (faster, uses more VRAM)
# - false: Process one at a time (slower, more stable)
parallel_analysis = false

# Batch size for parallel processing
# Default: 4
# Options: 2, 4, 8, 16
# Number of images to process simultaneously (only if parallel_analysis = true)
analysis_batch_size = 4


# ============================================================================
# SECTION 9: YOUTUBE OPTIMIZATION
# ============================================================================
[YouTube]
# Optimize for YouTube upload
# Options: true, false
# Default: true
# - true: Use YouTube-recommended settings
# - false: Use custom settings from other sections
youtube_optimized = true

# YouTube video category
# Options: family, vlog, tutorial, entertainment, music, travel, educational
# Default: family
# Affects default music and pacing choices
video_category = family

# Target video length (seconds, 0 = use all media)
# Default: 0
# Options: 0, 180, 300, 600, 900, 1800
# - 0: Use all media items
# - 180: ~3 minutes (good for social media)
# - 300: ~5 minutes (good for YouTube shorts)
# - 600: ~10 minutes (standard YouTube video)
# - 1800: ~30 minutes (long-form content)
target_video_length = 0

# Apply YouTube-safe audio normalization
# Options: true, false
# Default: true
# - true: Normalize audio to YouTube recommended levels (-14 LUFS)
# - false: Use raw generated audio levels
audio_normalization = true

# Add metadata for YouTube
# Options: true, false
# Default: true
# - true: Embed title, description, keywords in video file
# - false: Video file only
embed_metadata = true